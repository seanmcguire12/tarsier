"use strict";const tarsierId="__tarsier_id",tarsierDataAttribute="data-tarsier-id",tarsierSelector=`#${tarsierId}`,reworkdVisibilityAttribute="reworkd-original-visibility";let originalDOM=document.body.cloneNode(!0);window.storeDOM=()=>(originalDOM=document.body.cloneNode(!0),console.log("DOM state stored."),document.body.outerHTML),window.restoreDOM=t=>{console.log("Restoring DOM"),t?document.body.innerHTML=t:console.error("No DOM state was provided.")};const elIsVisible=t=>{const n=t.getBoundingClientRect(),e=window.getComputedStyle(t),o=e.visibility==="hidden"||e.display==="none"||t.hidden||t.hasAttribute("disabled")&&t.getAttribute("disabled"),r=e.opacity==="0"&&!hasLabel(t),c=e.display==="contents",a=(n.width===0||n.height===0)&&!c,l=t.tagName==="SCRIPT"||t.tagName==="STYLE";return!o&&!r&&!a&&!l};function hasLabel(t){if(!["input","textarea","select","button"].includes(t.tagName.toLowerCase()))return!1;const e=CSS.escape(t.id);if(document.querySelector(`label[for="${e}"]`))return!0;const i=Array.from(t.parentElement?.children||[]);for(let r of i)if(r.tagName.toLowerCase()==="label")return!0;return!1}const isTaggableTextNode=t=>isNonWhiteSpaceTextNode(t)&&isTextNodeAValidWord(t),isNonWhiteSpaceTextNode=t=>t.nodeType===Node.TEXT_NODE&&t.textContent&&t.textContent.trim().length>0&&t.textContent.trim()!=="\u200B",isTextNodeAValidWord=t=>{const n=t.textContent?.trim();return n&&(n.match(/\w/)||n.length>3)},isImageElement=t=>t.tagName.toLowerCase()==="img",inputs=["a","button","textarea","select","details","label"],isInteractable=t=>t.tagName.toLowerCase()==="label"&&t.querySelector("input")?!1:inputs.includes(t.tagName.toLowerCase())||t.tagName.toLowerCase()==="input"&&t.type!=="hidden"||t.role==="button",text_input_types=["text","password","email","search","url","tel","number"],isTextInsertable=t=>t.tagName.toLowerCase()==="textarea"||t.tagName.toLowerCase()==="input"&&text_input_types.includes(t.type),textLessTagWhiteList=["input","textarea","select","button","a"],isTextLess=t=>{const n=t.tagName.toLowerCase();if(textLessTagWhiteList.includes(n)||t.childElementCount>0)return!1;if("innerText"in t&&t.innerText.trim().length===0){const e=t.querySelector("svg"),o=t.querySelector("img");return e||o?!1:isElementInViewport(t)}return!1};function isElementInViewport(t){const n=t.getBoundingClientRect(),e=n.width>1||n.height>1;let o=document.body,i=document.documentElement;const r=Math.max(o.scrollHeight,o.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight),c=Math.max(o.scrollWidth,o.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth);return e&&n.top>=0&&n.left>=0&&n.bottom<=r&&n.right<=c}function getElementXPath(t){let n=[],e="";for(t&&t.ownerDocument!==window.document&&(e=`iframe[${t.getAttribute("iframe_index")}]`);t;){if(!t.tagName){t=t.parentNode;continue}let o=t.tagName.toLowerCase(),i=window.fixNamespaces(o),r=1,c=t.previousElementSibling;for(;c;)c.tagName===t.tagName&&c.id!=tarsierId&&r++,c=c.previousElementSibling;let a=t.nextElementSibling,l=!1;for(;a;){if(a.tagName===t.tagName){l=!0;break}a=a.nextElementSibling}if((r>1||l)&&(i+=`[${r}]`),t.id){if(i+=`[@id="${t.id}"]`,n.length>3)return n.unshift(i),"//"+n.join("/")}else t.className&&(i+=`[@class="${t.className}"]`);n.unshift(i),t=t.parentNode}return e+"//"+n.join("/")}function create_tagged_span(t,n){let e=`[${n}${t}]`,o=document.createElement("span");return o.id=tarsierId,o.style.position="relative",o.style.display="inline",o.style.color="white",o.style.backgroundColor="red",o.style.padding="1.5px",o.style.borderRadius="3px",o.style.fontWeight="bold",o.style.fontFamily="Arial",o.style.margin="1px",o.style.lineHeight="1.25",o.style.letterSpacing="2px",o.style.zIndex="2140000046",o.style.clip="auto",o.style.height="fit-content",o.style.width="fit-content",o.style.minHeight="15px",o.style.minWidth="23px",o.style.maxHeight="unset",o.style.maxWidth="unset",o.textContent=e,o.style.webkitTextFillColor="white",o.style.textShadow="",o.style.textDecoration="none",o.style.letterSpacing="0px",o.setAttribute(tarsierDataAttribute,t.toString()),o}const MIN_FONT_SIZE=11,ensureMinimumTagFontSizes=()=>{Array.from(document.querySelectorAll(tarsierSelector)).forEach(n=>{parseFloat(window.getComputedStyle(n).fontSize.split("px")[0])<MIN_FONT_SIZE&&(n.style.fontSize=`${MIN_FONT_SIZE}px`)})};window.tagifyWebpage=(t=!1)=>{window.removeTags(),hideMapElements();const n=getAllElementsInAllFrames(),e=getElementsToTag(n,t),o=removeNestedTags(e),i=insertTags(o,t);return shrinkCollidingTags(),ensureMinimumTagFontSizes(),i};function getAllElementsInAllFrames(){const t=Array.from(document.body.querySelectorAll("*")),n=document.getElementsByTagName("iframe");for(let e=0;e<n.length;e++)try{const o=n[e],i=o.contentDocument||o.contentWindow?.document;if(!i)continue;const r=Array.from(i.querySelectorAll("*"));r.forEach(c=>c.setAttribute("iframe_index",e.toString())),t.push(...r)}catch(o){console.error("Error accessing iframe content:",o)}return t}function getElementsToTag(t,n){const e=[];for(let o of t)isTextLess(o)&&!isImageElement(o)||!elIsVisible(o)||(isInteractable(o)||isImageElement(o)||n&&Array.from(o.childNodes).filter(isTaggableTextNode).length>=1)&&e.push(o);return e}function removeNestedTags(t){const n=[...t];return t.map(e=>{if(isInteractable(e)){const o=[];if(e.querySelectorAll("*").forEach(i=>{n.indexOf(i)>-1&&o.push(i)}),o.length<=2)for(let i of o)n.splice(n.indexOf(i),1)}}),n}function getTagSymbol(t){return isInteractable(t)?isTextInsertable(t)?"#":t.tagName.toLowerCase()==="a"?"@":"$":isImageElement(t)?"%":""}function insertTags(t,n){function e(s){if(!s.firstChild||s.firstChild.nodeType!==Node.TEXT_NODE)return;const d=s.firstChild;d.textContent=d.textContent.trimStart()}function o(s){const d=Array.from(s.childNodes).filter(u=>isNonWhiteSpaceTextNode(u)?!0:u.nodeType===Node.TEXT_NODE?!1:!(u.nodeType===Node.ELEMENT_NODE&&(isTextLess(u)||!elIsVisible(u))));if(d.length===1){const u=d[0],p=["div","span","p","h1","h2","h3","h4","h5","h6"];if(u.nodeType===Node.ELEMENT_NODE&&p.includes(u.tagName.toLowerCase()))return o(u)}return e(s),s}function i(s){const d=s.cloneNode(!1),u=d.outerHTML,g=`</${d.tagName.toLowerCase()}>`;return u.endsWith(g)?u.slice(0,-g.length):u}const r=[];let c=0;function a(s,d,u,p,g=null,m=null){const h=getTagSymbol(s),f=create_tagged_span(c,h),w={tarsierId:c,xpath:d,element:s,tagElement:f,textNodeIndex:u,originalTextContent:m};if(g&&s.parentElement)s.insertBefore(f,g);else if(isTextInsertable(s)&&s.parentElement)s.parentElement.insertBefore(f,s);else{const y=o(s);y.prepend(f),p&&absolutelyPositionTagIfMisaligned(f,y)}return p&&!g&&absolutelyPositionTagIfMisaligned(f,s),w}for(const s of t){const d=getElementXPath(s);if(isInteractable(s)||isImageElement(s)){const u=!isTextInsertable(s)||isImageElement(s),p=s.textContent?.trim()||null,g=a(s,d,null,u,null,p);r.push(g),c++}else if(n){e(s);const u=Array.from(s.childNodes).filter(g=>g.nodeType===Node.TEXT_NODE);u.filter(isTaggableTextNode).forEach(g=>{const m=u.indexOf(g)+1,h=g.textContent?.trim()||null,f=a(s,d,m,!1,g,h);r.push(f),c++})}}const l={};return r.forEach(s=>{const d=i(s.element),u=getTagSymbol(s.element)||"",p=`[ ${u}${u?" ":""}${s.tarsierId} ]`,g=s.originalTextContent;l[s.tarsierId]={tarsierId:s.tarsierId,elementName:s.element.tagName.toLowerCase(),openingTagHTML:d,xpath:s.xpath,elementText:g,textNodeIndex:s.textNodeIndex,idSymbol:u,idString:p}}),l}function absolutelyPositionTagIfMisaligned(t,n){let e=t.getBoundingClientRect();if(!(e.width===0||e.height===0))return;const o=250,i=n.getBoundingClientRect();if(i.right<0||i.left>(window.innerWidth||document.documentElement.clientWidth)){t.remove();return}const r={x:i.left,y:i.top},c={x:(e.left+e.right)/2,y:(e.top+e.bottom)/2},a=Math.abs(r.x-c.x),l=Math.abs(r.y-c.y);if(a>o||l>o||!elIsVisible(t)){t.style.position="absolute";let s=Math.max(0,i.left-(e.right+3-e.left));s=Math.min(s,window.innerWidth-(e.right-e.left));let d=Math.max(0,i.top+3);d=Math.min(d,Math.max(window.innerHeight,document.documentElement.scrollHeight)-(e.bottom-e.top)),t.style.left=`${s}px`,t.style.top=`${d}px`,t.parentElement&&t.parentElement.removeChild(t),document.body.appendChild(t)}}const shrinkCollidingTags=()=>{const t=Array.from(document.querySelectorAll(tarsierSelector));for(let n=0;n<t.length;n++){const e=t[n];let o=e.getBoundingClientRect(),i=parseFloat(window.getComputedStyle(e).fontSize.split("px")[0]);for(let r=n+1;r<t.length;r++){const c=t[r];let a=c.getBoundingClientRect(),l=parseFloat(window.getComputedStyle(c).fontSize.split("px")[0]);for(;o.left<a.right&&o.right>a.left&&o.top<a.bottom&&o.bottom>a.top&&i>MIN_FONT_SIZE&&l>MIN_FONT_SIZE;)i-=.5,l-=.5,e.style.fontSize=`${i}px`,c.style.fontSize=`${l}px`,o=e.getBoundingClientRect(),a=c.getBoundingClientRect()}}};window.removeTags=()=>{getAllElementsInAllFrames().filter(t=>t.matches(tarsierSelector)).forEach(t=>t.remove()),showMapElements()};const GOOGLE_MAPS_OPACITY_CONTROL="__reworkd_google_maps_opacity",hideMapElements=()=>{const t=['iframe[src*="google.com/maps"]','iframe[id*="gmap_canvas"]',".maplibregl-map",".mapboxgl-map",".leaflet-container",'img[src*="maps.googleapis.com"]','[aria-label="Map"]',".cmp-location-map__map",'.map-view[data-role="mapView"]',".google_Map-wrapper",".google_map-wrapper",".googleMap-wrapper",".googlemap-wrapper",".ls-map-canvas",".gmapcluster","#googleMap","#googleMaps","#googlemaps","#googlemap","#google_map","#google_maps","#MapId",".geolocation-map-wrapper",".locatorMap"];document.querySelectorAll(t.join(", ")).forEach(n=>{const e=window.getComputedStyle(n).opacity;n.setAttribute("data-original-opacity",e),n.style.opacity="0"})},showMapElements=()=>{document.querySelectorAll(`[${GOOGLE_MAPS_OPACITY_CONTROL}]`).forEach(n=>{n.style.opacity=n.getAttribute("data-original-opacity")||"1"})};window.hideNonTagElements=()=>{getAllElementsInAllFrames().forEach(n=>{const e=n;e.style.visibility&&e.setAttribute(reworkdVisibilityAttribute,e.style.visibility),e.id.startsWith(tarsierId)?e.style.visibility="visible":e.style.visibility="hidden"})},window.fixNamespaces=t=>{const n=/^[a-zA-Z_][\w\-.]*:[a-zA-Z_][\w\-.]*$/,e=t.split(/[#.]/)[0];return n.test(e)?t.replace(e,`*[name()="${e}"]`):t},window.revertVisibilities=()=>{getAllElementsInAllFrames().forEach(n=>{const e=n;e.getAttribute(reworkdVisibilityAttribute)?e.style.visibility=e.getAttribute(reworkdVisibilityAttribute)||"true":e.style.removeProperty("visibility")})};function hasDirectTextContent(t){const n=Array.from(t.childNodes);for(let e of n)if(e.nodeType===Node.TEXT_NODE&&e.textContent&&e.textContent.trim().length>0)return!0;return!1}window.hideNonColouredElements=()=>{document.body.querySelectorAll("*").forEach(n=>{const e=n;e.style.visibility&&e.setAttribute(reworkdVisibilityAttribute,e.style.visibility),!e.hasAttribute("data-colored")||e.getAttribute("data-colored")!=="true"?e.style.visibility="hidden":e.style.visibility="visible"})};function getNextColors(t){let n=[],e=Math.ceil(256/Math.cbrt(t));for(;n.length<t;){n=[];for(let o=0;o<256;o+=e){for(let i=0;i<256;i+=e){for(let r=0;r<256&&(n.push(`rgb(${o}, ${i}, ${r})`),!(n.length>=t));r+=e);if(n.length>=t)break}if(n.length>=t)break}if(n.length<t&&(e--,e<=0))throw new Error("Step cannot be reduced further.")}for(let o=n.length-1;o>0;o--){const i=Math.floor(Math.random()*(o+1));[n[o],n[i]]=[n[i],n[o]]}return n.slice(0,t)}function colorDistance(t,n){const e=t.match(/\d+/g).map(Number),o=n.match(/\d+/g).map(Number);return Math.sqrt(Math.pow(e[0]-o[0],2)+Math.pow(e[1]-o[1],2)+Math.pow(e[2]-o[2],2))}function assignColors(t,n){const e=new Map,o=new Set;return t.forEach(i=>{let r=null,c=-1;n.forEach(a=>{if(o.has(a))return;let l=1/0;o.forEach(s=>{const d=colorDistance(a,s);l=Math.min(l,d)}),l>c&&(c=l,r=a)}),r?(e.set(i,r),o.add(r)):(r=n.filter(l=>!o.has(l))[0],e.set(i,r),o.add(r))}),e}window.colourBasedTagify=(t=!1,n=!1)=>{const e=window.tagifyWebpage(t);window.removeTags();const o=insertIdStringsIntoTextNodes(e,n),i=collectElementsToColor(e),r=getColorsForElements(i);return{colorMapping:createColorMappingAndApplyStyles(i,r,e),tagMappingWithTagMeta:e,insertedIdStrings:o}};function insertIdStringsIntoTextNodes(t,n){let e=[];return Object.entries(t).forEach(([o,i])=>{if(i.textNodeIndex!==void 0&&i.idString!==void 0){const r=`${i.xpath}/text()[${i.textNodeIndex}]`,c=document.evaluate(r,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;c&&!n&&(c.data=`${i.idString} ${c.data}`,e.push(i.idString))}}),e}function collectElementsToColor(t){const n=[],e=window.innerWidth;return Object.values(t).forEach(o=>{const{tarsierId:i,xpath:r}=o,c=document.evaluate(r,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;if(c instanceof HTMLElement){getComputedStyle(c).display==="contents"&&c.style.removeProperty("display");const l=c.getBoundingClientRect();l.width>0&&l.height>0&&l.left>=0&&l.right<=e&&(c.setAttribute("data-id",i.toString()),n.push(c))}}),n}function getColorsForElements(t){const n=t.length,e=getNextColors(n);return assignColors(t,e)}function createColorMappingAndApplyStyles(t,n,e){const o=[],i=document.body.getBoundingClientRect(),r="data-colored",c=new Set(Object.values(e).map(a=>a.xpath));return t.forEach(a=>{const l=parseInt(a.getAttribute("data-id")),s=n.get(a),d=a.getBoundingClientRect(),u=[d.left,d.top],p=[(u[0]-i.left)/i.width,(u[1]-i.top)/i.height],g=getTagSymbol(a)||"",m=`[ ${g}${g?" ":""}${l} ]`,{isFixed:h,fixedPosition:f}=getFixedPosition(a);o.push({id:l,idSymbol:m,color:s,xpath:e[l].xpath,midpoint:u,normalizedMidpoint:p,width:d.width,height:d.height,isFixed:h,fixedPosition:f,boundingBoxX:d.x,boundingBoxY:d.y}),applyStylesToElement(a,s,r,c,d)}),o}function applyStylesToElement(t,n,e,o,i){t.tagName.toLowerCase()==="input"&&t.type==="checkbox"?applyStylesToCheckbox(t,n,e):t.tagName.toLowerCase()==="img"?applyStylesToImage(t,n,e):(t.style.setProperty("background-color",n,"important"),t.style.setProperty("color",n,"important"),t.style.setProperty("border-color",n,"important"),t.style.setProperty("opacity","1","important"),t.setAttribute(e,"true")),t.tagName.toLowerCase()==="a"&&applyStylesToLink(t,o,i),Array.from(t.children).forEach(r=>{const c=getElementXPath(r),a=window.getComputedStyle(r);!o.has(c)&&a.display!=="none"&&(r.style.visibility="hidden")})}function applyStylesToCheckbox(t,n,e){const o=t.offsetWidth+2+"px",i=t.offsetHeight+2+"px";t.style.setProperty("width",o,"important"),t.style.setProperty("height",i,"important"),t.style.setProperty("background-color",n,"important"),t.style.setProperty("border",`2px solid ${n}`,"important"),t.style.setProperty("appearance","none","important"),t.style.setProperty("border-radius","4px","important"),t.style.setProperty("position","relative","important"),t.style.setProperty("cursor","pointer","important"),t.setAttribute(e,"true"),t.addEventListener("change",function(){t.checked,t.style.setProperty("background-color",n,"important")})}function applyStylesToImage(t,n,e){const o=t.offsetWidth,i=t.offsetHeight,c=(l=>{const s=l.match(/\d+/g);return s?s.map(d=>parseInt(d).toString(16).padStart(2,"0")).join(""):"000000"})(n),a=`https://craftypixels.com/placeholder-image/${o}x${i}/${c}/${c}`;t.setAttribute("src",a),t.setAttribute(e,"true")}function applyStylesToLink(t,n,e){window.getComputedStyle(t).backgroundImage!=="none"&&(t.style.backgroundImage="none");let i=!1,r=!1,c=e.width>0&&e.height>0,a=!1;Array.from(t.children).forEach(l=>{const s=l;s.textContent&&s.textContent.trim().length>0&&(i=!0),s.tagName.toLowerCase()==="img"&&(r=!0);const d=getElementXPath(s);!n.has(d)&&s.textContent&&s.textContent.trim().length>0&&(a=!0)}),(!i&&!r&&!hasDirectTextContent(t)&&!c||a)&&(t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,t.style.display="block")}function createIdSymbol(t,n){let e;return isInteractable(n)?isTextInsertable(n)?e=`[ # ${t} ]`:n.tagName.toLowerCase()=="a"?e=`[ @ ${t} ]`:e=`[ $ ${t} ]`:e=`[ ${t} ]`,e}window.createTextBoundingBoxes=()=>{const t=document.createElement("style");document.head.appendChild(t),t.sheet&&t.sheet.insertRule(`
        .tarsier-highlighted-word, .tarsier-space {
          border: 0px solid orange;
          display: inline-block !important;
          visibility: visible;
        }
      `,0);function n(e){e.querySelectorAll("body *").forEach(o=>{if(["SCRIPT","STYLE","IFRAME","INPUT","TEXTAREA"].includes(o.tagName))return;Array.from(o.childNodes).forEach(r=>{if(r.nodeType===3&&r.textContent&&r.textContent.trim().length>0){let c=r.textContent.replace(/\u00A0/g," ");const a=/\[\s*(?:[$@#]?\s*\d+)\s*\]/g;if(o.hasAttribute("selected")){let l=document.createElement("span");l.className="tarsier-highlighted-word",l.textContent=c,r.parentNode&&r.parentNode.replaceChild(l,r)}else{let l=c.split(a),s=c.match(a),d=document.createDocumentFragment();l.forEach((u,p)=>{if(u.split(/(\s+)/g).forEach(m=>{let h=document.createElement("span");m.trim().length===0?h.className="tarsier-space":h.className="tarsier-highlighted-word",h.textContent=m,d.appendChild(h)}),s&&s[p]){let m=document.createElement("span");m.className="tarsier-highlighted-word",m.textContent=s[p],d.appendChild(m)}}),d.childNodes.length>0&&r.parentNode&&(o.insertBefore(d,r),r.remove())}}})})}n(document),document.querySelectorAll("iframe").forEach(e=>{try{e.contentWindow?.postMessage({action:"highlight"},"*")}catch(o){console.error("Error accessing iframe content: ",o)}})},window.documentDimensions=()=>({width:document.documentElement.scrollWidth,height:document.documentElement.scrollHeight}),window.getElementBoundingBoxes=t=>{const n=document.evaluate(t,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;if(n){const e=a=>a&&a.trim().length>0;let o=n.querySelector("option[selected]");if(o||(o=n.querySelector("option")),o){const a=o.textContent||"";if(e(a)){const l=n.getBoundingClientRect();return[{text:a.trim(),top:l.top+window.scrollY,left:l.left+window.scrollX,width:l.width,height:l.height}]}else return[]}let i=" ";(n.tagName.toLowerCase()==="input"||n.tagName.toLowerCase()==="textarea")&&n.placeholder?i=n.placeholder:n.tagName.toLowerCase()==="a"?i=" ":n.tagName.toLowerCase()==="img"&&(i=n.alt||" ");const r=n.querySelectorAll(":scope > .tarsier-highlighted-word"),c=Array.from(r).map(a=>{const l=a.getBoundingClientRect();return{text:a.innerText||"",top:l.top+window.scrollY,left:l.left+window.scrollX,width:l.width,height:l.height*.75}}).filter(a=>a.width>0&&a.height>0&&a.top>=0&&a.left>=0&&e(a.text));if(r.length===0){const a=n.getBoundingClientRect();return[{text:i,top:a.top+window.scrollY,left:a.left+window.scrollX,width:a.width,height:a.height*.75}]}return c}else return[]};function getFixedPosition(t){let n=!1,e="none",o=t;for(;o;){if(window.getComputedStyle(o).position==="fixed"){n=!0;const r=o.getBoundingClientRect();r.top===0?e="top":r.bottom===window.innerHeight&&(e="bottom");break}o=o.parentElement}return{isFixed:n,fixedPosition:e}}window.checkHasTaggedChildren=t=>{const n=document.evaluate(t,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;return n?!!n.querySelector('[data-colored="true"]'):!1},window.setElementVisibilityToHidden=t=>{const n=document.evaluate(t,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;n?n.style.visibility="hidden":console.error(`Tried to hide element. Element not found for XPath: ${t}`)},window.reColourElements=t=>{const n=t.length,e=getNextColors(n),o=t.map(a=>{const l=document.evaluate(a.xpath,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;return l.setAttribute("data-id",a.id.toString()),l}),i=assignColors(o,e),r=document.body.getBoundingClientRect();return t.map(a=>{const l=document.evaluate(a.xpath,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,s=i.get(l),d=l.getBoundingClientRect(),u=[d.left,d.top],p=[(u[0]-r.left)/r.width,(u[1]-r.top)/r.height];return l.style.setProperty("background-color",s,"important"),l.style.setProperty("color",s,"important"),l.style.setProperty("border-color",s,"important"),l.style.setProperty("opacity","1","important"),l.setAttribute("data-colored","true"),{...a,color:s,midpoint:u,normalizedMidpoint:p,width:d.width,height:d.height,boundingBoxX:d.x,boundingBoxY:d.y}})},window.disableTransitionsAndAnimations=()=>{const t=document.createElement("style");t.innerHTML=`
    *, *::before, *::after {
      transition-property: none !important;
      transition-duration: 0s !important;
      transition-timing-function: none !important;
      transition-delay: 0s !important;
      animation: none !important;
      animation-name: none !important;
      animation-duration: 0s !important;
      animation-timing-function: none !important;
      animation-delay: 0s !important;
      animation-iteration-count: 1 !important;
      animation-direction: normal !important;
      animation-fill-mode: none !important;
      animation-play-state: paused !important;
    }
  `,t.id="disable-transitions",document.head.appendChild(t)},window.enableTransitionsAndAnimations=()=>{const t=document.getElementById("disable-transitions");t&&t.remove()},console.log("Tarsier tag utils loaded");
